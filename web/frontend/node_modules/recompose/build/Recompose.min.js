!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t.Recompose=t.Recompose||{},t.React)}(this,function(t,n){"use strict";function e(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!==t&&n!==n}function r(t,n){if(e(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var r=Object.keys(t);if(r.length!==Object.keys(n).length)return!1;for(var o=0;r.length>o;o++)if(!E.call(n,r[o])||!e(t[r[o]],n[r[o]]))return!1;return!0}function o(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return 0===n.length?function(t){return t}:1===n.length?n[0]:n.reduce(function(t,n){return function(){return t(n.apply(void 0,arguments))}})}var u="default"in n?n.default:n,i=function(t){if("string"==typeof t)return t;if(t)return t.displayName||t.name||"Component"},c=function(t,n){return n+"("+i(t)+")"},p=function(t,n){return t},a=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},s=Object.assign||function(t){for(var n=1;arguments.length>n;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},f=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},l=function(t,n){var e={};for(var r in t)0>n.indexOf(r)&&Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},y=function(t,n,e,r,o){if(!t&&n)return e(o?s({},r,{children:o}):r);var i=e;return o?u.createElement(i,r,o):u.createElement(i,r)},v=function(t){return!(!t||!t.prototype||"object"!=typeof t.prototype.isReactComponent)},d=function(t){return!("function"!=typeof t||v(t)||t.defaultProps||t.contextTypes)},m=function(t){var n=d(t);return function(e,r){return y(!1,n,t,e,r)}},b=function(t){return function(n){var e=m(n);return function(n){return e(t(n))}}},g=p(b,"mapProps"),O=function(t){return g(function(n){return s({},n,"function"==typeof t?t(n):t)})},P=p(O,"withProps"),w=function(t,n){for(var e={},r=0;n.length>r;r++){var o=n[r];t.hasOwnProperty(o)&&(e[o]=t[o])}return e},E=Object.prototype.hasOwnProperty,S=r,C=function(t,e){return function(r){var o=m(r),u="function"==typeof t?t:function(n,e){return!S(w(n,t),w(e,t))};return function(t){function n(){var r,o,u;a(this,n);for(var i=arguments.length,c=Array(i),p=0;i>p;p++)c[p]=arguments[p];return r=o=h(this,t.call.apply(t,[this].concat(c))),o.computedProps=e(o.props),u=r,h(o,u)}return f(n,t),n.prototype.componentWillReceiveProps=function(t){u(this.props,t)&&(this.computedProps=e(t))},n.prototype.render=function(){return o(s({},this.props,this.computedProps))},n}(n.Component)}},x=p(C,"withPropsOnChange"),j=function(t,n){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r],r));return e},T=function(t){return function(e){var r,o,u=m(e);return r=function(t){function n(){var e,r,u;a(this,n);for(var i=arguments.length,c=Array(i),p=0;i>p;p++)c[p]=arguments[p];return e=r=h(this,t.call.apply(t,[this].concat(c))),o.call(r),u=e,h(r,u)}return f(n,t),n.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},n.prototype.render=function(){return u(s({},this.props,this.handlers))},n}(n.Component),o=function(){var n=this;this.cachedHandlers={},this.handlers=j("function"==typeof t?t(this.props):t,function(t,e){return function(){var r=n.cachedHandlers[e];if(r)return r.apply(void 0,arguments);var o=t(n.props);return n.cachedHandlers[e]=o,o.apply(void 0,arguments)}})},r}},N=p(T,"withHandlers"),R=function(t){return function(n){var e=m(n),r=function(t){return e(t)};return r.defaultProps=t,r}},V=p(R,"defaultProps"),A=function(t,n){for(var e=l(t,[]),r=0;n.length>r;r++){var o=n[r];e.hasOwnProperty(o)&&delete e[o]}return e},F=function(t,n){return g(function(e){var r;return s({},A(e,[t]),(r={},r[n]=e[t],r))})},U=p(F,"renameProp"),_=Object.keys,H=function(t,n){return _(t).reduce(function(e,r){var o=t[r];return e[n(o,r)]=o,e},{})},W=function(t){return g(function(n){return s({},A(n,_(t)),H(w(n,_(t)),function(n,e){return t[e]}))})},k=p(W,"renameProps"),D=function(t){return function(n){var e=m(n);return function(n){return e(s({},n,n[t]))}}},M=p(D,"flattenProp"),$=function(t,e,r){return function(o){var u=m(o);return function(n){function o(){var t,e,u;a(this,o);for(var i=arguments.length,c=Array(i),p=0;i>p;p++)c[p]=arguments[p];return t=e=h(this,n.call.apply(n,[this].concat(c))),e.state={stateValue:"function"==typeof r?r(e.props):r},e.updateStateValue=function(t,n){return e.setState(function(n){var e=n.stateValue;return{stateValue:"function"==typeof t?t(e):t}},n)},u=t,h(e,u)}return f(o,n),o.prototype.render=function(){var n;return u(s({},this.props,(n={},n[t]=this.state.stateValue,n[e]=this.updateStateValue,n)))},o}(n.Component)}},q=p($,"withState"),z=function(t,e,r,o){return function(u){var i=m(u);return function(n){function u(){var t,e,o;a(this,u);for(var i=arguments.length,c=Array(i),p=0;i>p;p++)c[p]=arguments[p];return t=e=h(this,n.call.apply(n,[this].concat(c))),e.state={stateValue:e.initializeStateValue()},e.dispatch=function(t){return e.setState(function(n){return{stateValue:r(n.stateValue,t)}})},o=t,h(e,o)}return f(u,n),u.prototype.initializeStateValue=function(){return void 0!==o?"function"==typeof o?o(this.props):o:r(void 0,{type:"@@recompose/INIT"})},u.prototype.render=function(){var n;return i(s({},this.props,(n={},n[t]=this.state.stateValue,n[e]=this.dispatch,n)))},u}(n.Component)}},I=p(z,"withReducer"),K=function(t){return t},B=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;return function(r){var o=void 0,u=void 0;return function(i){return t(i)?(o=o||m(n(r)))(i):(u=u||m(e(r)))(i)}}},G=p(B,"branch"),J=function(t){return function(n){var e=m(t);return function(t){return e(t)}}},L=p(J,"renderComponent",!1),Q=function(t){function n(){return a(this,n),h(this,t.apply(this,arguments))}return f(n,t),n.prototype.render=function(){return null},n}(n.Component);Q.displayName="Nothing";var X,Y=function(t){return Q},Z=p(Y,"renderNothing",!1,!0),tt=function(t){return function(e){var r=m(e);return function(n){function e(){return a(this,e),h(this,n.apply(this,arguments))}return f(e,n),e.prototype.shouldComponentUpdate=function(n){return t(this.props,n)},e.prototype.render=function(){return r(this.props)},e}(n.Component)}},nt=p(tt,"shouldUpdate"),et=nt(function(t,n){return!S(t,n)}),rt=p(et,"pure",!0,!0),ot=function(t){return nt(function(n,e){return!S(w(e,t),w(n,t))})},ut=p(ot,"onlyUpdateForKeys"),it=function(t){var n=t.propTypes,e=Object.keys(n||{});return ut(e)(t)},ct=p(it,"onlyUpdateForPropTypes",!0,!0),pt=function(t,e){return function(r){var o=m(r),u=function(t){function n(){var r,o,u;a(this,n);for(var i=arguments.length,c=Array(i),p=0;i>p;p++)c[p]=arguments[p];return r=o=h(this,t.call.apply(t,[this].concat(c))),o.getChildContext=function(){return e(o.props)},u=r,h(o,u)}return f(n,t),n.prototype.render=function(){return o(this.props)},n}(n.Component);return u.childContextTypes=t,u}},at=p(pt,"withContext"),st=function(t){return function(n){var e=m(n),r=function(t,n){return e(s({},t,n))};return r.contextTypes=t,r}},ft=p(st,"getContext"),lt=function(t){return function(e){var r=m(e);return function(n){function e(){a(this,e);for(var r=arguments.length,o=Array(r),u=0;r>u;u++)o[u]=arguments[u];var i=h(this,n.call.apply(n,[this].concat(o)));return Object.assign(i,t),i}return f(e,n),e.prototype.render=function(){return r(s({},this.props,this.state))},e}(n.Component)}},ht=p(lt,"lifecycle"),yt=function(t){if(v(t))return t;var e=function(n){function e(){return a(this,e),h(this,n.apply(this,arguments))}return f(e,n),e.prototype.render=function(){return"string"==typeof t?u.createElement(t,this.props):t(this.props,this.context)},e}(n.Component);return e.displayName=i(t),e.propTypes=t.propTypes,e.contextTypes=t.contextTypes,e.defaultProps=t.defaultProps,e},vt=function(t,n){return function(e){return e[t]=n,e}},dt=p(vt,"setStatic",!1),mt=function(t){return dt("propTypes",t)},bt=p(mt,"setPropTypes",!1),gt=function(t){return dt("displayName",t)},Ot=p(gt,"setDisplayName",!1),Pt=function(t,n,e){var r=d(t),o=n&&n.hasOwnProperty("key");return y(o,r,t,n,e)},wt=function(t){return function(n){function e(){return a(this,e),h(this,n.apply(this,arguments))}return f(e,n),e.prototype.componentWillMount=function(){t(this.props)},e.prototype.componentWillReceiveProps=function(n){t(n)},e.prototype.render=function(){return null},e}(n.Component)},Et=function(t){var n=function(n){return Pt(n[t],A(n,[t]))};return n.displayName="componentFromProp("+t+")",n},St=function(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];var r=n.map(m);return function(t){var n=l(t,[]),e=t.children;return r.reduceRight(function(t,e){return e(n,t)},e)}},Ct={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},xt={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},jt="function"==typeof Object.getOwnPropertySymbols,Tt=function(t,n,e){if("string"!=typeof n){var r=Object.getOwnPropertyNames(n);jt&&(r=r.concat(Object.getOwnPropertySymbols(n)));for(var o=0;r.length>o;++o)if(!(Ct[r[o]]||xt[r[o]]||e&&e[r[o]]))try{t[r[o]]=n[r[o]]}catch(t){}}return t},Nt=function(t){return function(n){var e=t(n);return Tt(e,n),e}},Rt=function(t,n){return n={exports:{}},t(n,n.exports),n.exports}(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});n.createChangeEmitter=function(){function t(){o===r&&(o=r.slice())}function n(n){if("function"!=typeof n)throw Error("Expected listener to be a function.");var e=!0;return t(),o.push(n),function(){if(e){e=!1,t();var r=o.indexOf(n);o.splice(r,1)}}}function e(){r=o;for(var t=r,n=0;t.length>n;n++)t[n].apply(t,arguments)}var r=[],o=r;return{listen:n,emit:e}}}),Vt=Rt.createChangeEmitter;X="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var At=function(t){var n,e=t.Symbol;return"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable",n}(X),Ft={fromESObservable:null,toESObservable:null},Ut=function(t){Ft=t},_t={fromESObservable:function(t){return"function"==typeof Ft.fromESObservable?Ft.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof Ft.toESObservable?Ft.toESObservable(t):t}},Ht=function(t){return function(e){return function(n){function r(){var o,u,i,c;a(this,r);for(var p=arguments.length,s=Array(p),f=0;p>f;f++)s[f]=arguments[f];return u=i=h(this,n.call.apply(n,[this].concat(s))),i.state={vdom:null},i.propsEmitter=Vt(),i.props$=t.fromESObservable((o={subscribe:function(t){return{unsubscribe:i.propsEmitter.listen(function(n){n?t.next(n):t.complete()})}}},o[At]=function(){return this},o)),i.vdom$=t.toESObservable(e(i.props$)),c=u,h(i,c)}return f(r,n),r.prototype.componentWillMount=function(){var t=this;this.subscription=this.vdom$.subscribe({next:function(n){t.setState({vdom:n})}}),this.propsEmitter.emit(this.props)},r.prototype.componentWillReceiveProps=function(t){this.propsEmitter.emit(t)},r.prototype.shouldComponentUpdate=function(t,n){return n.vdom!==this.state.vdom},r.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},r.prototype.render=function(){return this.state.vdom},r}(n.Component)}},Wt=Ht(_t),kt=function(t){return t},Dt=Ht({fromESObservable:kt,toESObservable:kt}),Mt=function(t){return function(n){return function(e){var r=m(e),o=t.fromESObservable,u=t.toESObservable;return Dt(function(t){var e;return e={subscribe:function(e){var i=u(n(o(t))).subscribe({next:function(t){return e.next(r(t))}});return{unsubscribe:function(){return i.unsubscribe()}}}},e[At]=function(){return this},e})}}}(_t),$t=p(Mt,"mapPropsStream"),qt=function(t){return function(){var n,e=Vt(),r=t.fromESObservable((n={subscribe:function(t){return{unsubscribe:e.listen(function(n){return t.next(n)})}}},n[At]=function(){return this},n));return{handler:e.emit,stream:r}}}(_t);t.mapProps=g,t.withProps=P,t.withPropsOnChange=x,t.withHandlers=N,t.defaultProps=V,t.renameProp=U,t.renameProps=k,t.flattenProp=M,t.withState=q,t.withReducer=I,t.branch=G,t.renderComponent=L,t.renderNothing=Z,t.shouldUpdate=nt,t.pure=rt,t.onlyUpdateForKeys=ut,t.onlyUpdateForPropTypes=ct,t.withContext=at,t.getContext=ft,t.lifecycle=ht,t.toClass=yt,t.setStatic=dt,t.setPropTypes=bt,t.setDisplayName=Ot,t.compose=o,t.getDisplayName=i,t.wrapDisplayName=c,t.shallowEqual=S,t.isClassComponent=v,t.createEagerElement=Pt,t.createEagerFactory=m,t.createSink=wt,t.componentFromProp=Et,t.nest=St,t.hoistStatics=Nt,t.componentFromStream=Wt,t.mapPropsStream=$t,t.createEventHandler=qt,t.setObservableConfig=Ut,Object.defineProperty(t,"__esModule",{value:!0})});
